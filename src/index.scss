@use 'sass:math';

@import 'src/styles/_library.scss';
@import 'src/styles/_variable.module.scss';
@import 'src/styles/_color.module.scss';
@import 'src/styles/_icon.module.scss';
@import 'src/styles/_font.module.scss';
@import 'src/styles/_animation.module.scss';


* {
	box-sizing: border-box;
	padding: 0;
	margin: 0;
}

#root {
	position: relative;
	width: 100vw;
	height: 100vh;
	background-color: $pink;
}

#counter {
	@include absolute-center(0px, 0px);
	opacity: 0;
	width: 80pt;
	height: 80pt;
	transform-origin: bottom;
	filter: url(#threshold) blur(0.6px);

	&.show {
		opacity: 1;
		transition: opacity .5s linear;
		z-index: 10;
	}
	
	#text-span-1,
	#text-span-2 {
		position: absolute;
		width: 100%;
		display: inline-block;
		font-family: "Raleway", sans-serif;
		font-size: 80px;
		text-align: center;
		color: white;
		user-select: none;
	}
}

#love-container {
	position: absolute;
	width: 100%;
	height: 100%;
	z-index: 1;
}

#gift-container {


	@include absolute-center-no-transform($gift-dimension, $gift-dimension);
	background-color: rgba($color: $primary, $alpha: 0.5);
	box-shadow: 5px 5px 10px 0px rgb(0, 0, 0, 0.5);
	z-index: 1;

	&::before,
	&::after {
		display: none;
		content: '';
		position: absolute;
		width: $gift-dimension;
		height: $gift-dimension;
		border-width: 0;
		background-color: inherit;
	}

	&::before {
		border-radius: 0 0 calc($gift-dimension / 2) calc($gift-dimension / 2);
		left: -(calc($gift-dimension / 2));
		transform: rotate(90deg);
		box-shadow: 4px 0px 4px 0px rgb(0, 0, 0, 0.5);
	}

	&::after {
		border-radius: calc($gift-dimension / 2) calc($gift-dimension / 2) 0 0;
		top: -(calc($gift-dimension / 2));
		transform: rotate(360deg);
		box-shadow: 4px 0px 4px 0px rgb(0, 0, 0, 0.5);
	}

	.bandroll {
		$bandroll-width: 14px;
		$bandroll-length: $gift-dimension;
		$translate-position: -(calc(($bandroll-width - $bandroll-length) / 2));

		display: none;
		position: absolute;
		top: 0;
		left: 0;

		background-color: $orange;
		width: $bandroll-length;
		height: $bandroll-width;
		border-radius: 5px;
		border-style: double;
		border-color: brown;
		z-index: 2;

		&.bandroll-1 {
			transform: translateY($translate-position);
		}

		&.bandroll-2 {
			transform: rotate(90deg) translateX($translate-position);
		}
	}

	#open-btn {
		$circle-width: 50px;

		position: absolute;
		top: $circle-width * 2;
		left: $circle-width * 2;
		border-radius: 50%;
		width: $circle-width;
		height: $circle-width;
		transform: translate(-50%, -50%);
		background-color: $red;
		background-image: $star;
		background-size: 36px;
		background-position: center;
		background-repeat: no-repeat;
		border-width: 0;
		box-shadow: 1px 1px 3px 3px rgb(0, 0, 0, 0.5);
		z-index: 3;

		&.fade {
			animation: fade-in .5s linear 1s forwards;
		}

		&:hover {
			cursor: grab;
			background-color: $darken-red;
		}

		&:active {
			background-size: 32px;
			box-shadow: 1px 1px 3px 1px rgb(0, 0, 0, 0.75);
		}
	}

	&:not(.gift-box) {
		transform: rotate(45deg) translate(calc($gift-dimension / 20), calc($gift-dimension / 20));
		transition: all linear .75s;


		&::before {
			display: block;
			transform: rotate(90deg);
			transition: display 1s linear 2s;
		}

		&::after {
			display: block;
			transform: rotate(360deg);
			transition: display 1s linear 2s;
		}
	}

	&.gift-box {
		transform: rotate(-180deg);
		box-shadow: -5px -5px 10px 0px rgb(0, 0, 0, 0.5);

		#open-btn {
			box-shadow: -1px -1px 3px 3px rgb(0, 0, 0, 0.5);
		}

		.bandroll {
			display: block;

			.bandroll-1 {
				animation: 1s ease-in 1s roll-in;
			}

			.bandroll-2 {
				animation: 1s ease-in 1s roll-in;
			}
		}
	}
}