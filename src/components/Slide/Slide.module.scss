@import 'src/styles/_library.scss';
@import 'src/styles/_animation.module.scss';
@import 'src/styles/_color.module.scss';
@import 'src/styles/_icon.module.scss';

#slideshow {
	$slide-width: 320px;
	$slide-height: 480px;
	$border-width: 12px;
	$border-radius: 20px;


	@include absolute-center();
	display: flex;
	justify-content: center;
	gap: 5px;
	width: 0;
	height: 0;
	opacity: 0;
	border: $border-width solid transparent;
	border-radius: $border-radius;
	box-shadow: 3px 3px 5px 3px #00000013;


	&::before {
		$sticker-size: 70px;

		position: absolute;
		content: '';
		top: -(calc($sticker-size / 2));
		right: -(calc($sticker-size / 2));
		background-image: $bunny;
		width: $sticker-size;
		height: $sticker-size;
		background-size: contain;
		z-index: 200;
		filter: drop-shadow(2px 1px 2px $red) brightness(0.88);
	}

	&::after {
		position: absolute;
		content: '';
		top: -$border-width;
		bottom: -$border-width;
		left: -$border-width;
		right: -$border-width;
		background: linear-gradient(rgba($color: $purple, $alpha: 0.35), rgba($color: $blue, $alpha: 0.25), rgba($color: $light-red, $alpha: 0.25));
		border-radius: $border-radius;
	}

	.slide {
		display: flex;
		justify-content: center;
		align-items: center;
		position: absolute;
		width: calc($slide-width - $border-width * 2);
		height: calc($slide-height - $border-width * 2);
		border-radius: 50%;
		transform: scale(0.01, 0.0075);
		overflow: hidden;

		img {
			max-width: 100%;
			max-height: 100%;
			outline: none;
			overflow: inherit;
			transition: transform .5s linear, filter .75s linear;
		}

		&.active {
			z-index: 10;

			img {
				transform: scale(1, 1);
				transform-origin: left;
				filter: blur(0);
			}
		}

		&:not(.active) {
			z-index: 0;

			img {
				transform: scale(0, 0);
				filter: blur(16px);
				transform-origin: right;
			}
		}

	}

	&.show {
		opacity: 1;
		width: $slide-width;
		height: $slide-height;
		transition-property: opacity, width, height;
		transition-duration: .75s, 1.5s, .5s;
		transition-timing-function: ease-in-out;
		transition-delay: 2s;


		.slide {
			background-color: #ffffff;
			border-radius: $border-radius - 5px;
			transform: scale(1);
			transition-property: background-color, border-radius, transform, z-index;
			transition-duration: .25s, .5s, .5s, 0s;
			transition-delay: 3.5s, 3.5s, 3.5s, 1.5s;
		}
	}

	#dialogue {
		font-family: 'FairyCosmo';
		font-size: 50px;
		color: #00000075;
		text-align: center;
		margin: 0;
		padding: 20px;
		z-index: 10;

		&>span {
			display: inline-block;
			opacity: 0;
			filter: blur(2px);
		}
	}
}